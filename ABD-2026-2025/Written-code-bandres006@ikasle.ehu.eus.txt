Condition.cs (22) : this.ColumnName = column;
Condition.cs (23) : this.Operator = op;
Condition.cs (24) : this.LiteralValue = literalValue;
Condition.cs (39) : //si el tipo de columna es entero
Condition.cs (40) : if(type == ColumnDefinition.DataType.Int)
Condition.cs (41) : {
Condition.cs (42) : //los valores de string --> entero
Condition.cs (43) : int value1 = int.Parse(value);
Condition.cs (44) : int value2 = int.Parse(LiteralValue);
Condition.cs (47) : {
Condition.cs (49) : return value1 > value2;
Condition.cs (51) : return value1 < value2;
Condition.cs (53) : return value1 == value2;
Condition.cs (54) : }
Condition.cs (55) : }
Condition.cs (56) : if (type == ColumnDefinition.DataType.Double)
Condition.cs (57) : {
Condition.cs (58) : // string --> decimal
Condition.cs (59) : double value1 = double.Parse(value);
Condition.cs (60) : double value2 = double.Parse(LiteralValue);
Condition.cs (63) : {
Condition.cs (65) : return value1 > value2;
Condition.cs (67) : return value1 < value2;
Condition.cs (69) : return value1 == value2;
Condition.cs (70) : }
Condition.cs (72) : }
Condition.cs (73) : if(type == ColumnDefinition.DataType.String)
Condition.cs (74) : {
Condition.cs (75) : //la comparaci�n devuelve un n�mero
Condition.cs (76) : int comparacion = string.Compare(value, LiteralValue);
Condition.cs (77) : // comparacion = 0 --> los dos valores son iguales
Condition.cs (78) : // comparacion > 0 --> value es mayor que literalValue
Condition.cs (79) : // comparaci�n < 0 --> value es mas peque�eo que literalValue
Condition.cs (82) : {
Condition.cs (84) : return comparacion > 0;
Condition.cs (86) : return comparacion < 0;
Condition.cs (88) : return comparacion == 0;
Condition.cs (89) : }
Condition.cs (90) : }
Database.cs (16) : private string m_password;
Database.cs (30) : m_username = adminUsername;
Database.cs (32) : m_password = adminPassword;
Database.cs (41) : //mirar que la table que nos dan no sea nula
Database.cs (42) : if(table == null)
Database.cs (43) : {
Database.cs (45) : }
Database.cs (46) : //comprobar que no existe ya en la lista
Database.cs (47) : for (int i = 0; i < Tables.Count; i++)
Database.cs (48) : {
Database.cs (49) : if (Tables[i].Name == table.Name)
Database.cs (50) : {
Database.cs (51) : //ya existe
Database.cs (52) : return false;
Database.cs (53) : }
Database.cs (54) : }
Database.cs (55) : //a�ado a lista la table que me dan
Database.cs (56) : Tables.Add(table);
Database.cs (57) : return true;
Database.cs (65) : //recorrer la lista buscando que coincidan los nombres
Database.cs (66) : for(int i = 0; i < Tables.Count; i++)
Database.cs (67) : {
Database.cs (68) : if (Tables[i].Name == tableName)
Database.cs (69) : {
Database.cs (70) : return Tables[i];
Database.cs (71) : }
Database.cs (72) : }
Database.cs (86) : //mirar si ya existe una tabla con ese nombre
Database.cs (87) : for (int i = 0; i < Tables.Count; i++)
Database.cs (88) : {
Database.cs (89) : if (Tables[i].Name == tableName)
Database.cs (90) : {
Database.cs (91) : LastErrorMessage = Constants.TableAlreadyExistsError;
Database.cs (92) : return false;
Database.cs (94) : }
Database.cs (95) : }
Database.cs (97) : //comprobar que nos de la columna
Database.cs (99) : if(ColumnDefinition == null)
Database.cs (100) : {
Database.cs (101) : LastErrorMessage = Constants.DatabaseCreatedWithoutColumnsError;
Database.cs (102) : return false;
Database.cs (104) : }
Database.cs (105) : //comprobar que no este vac�a
Database.cs (106) : else if(ColumnDefinition.Count == 0)
Database.cs (107) : {
Database.cs (108) : LastErrorMessage = Constants.DatabaseCreatedWithoutColumnsError;
Database.cs (114) : Table nuevaTabla = new Table(tableName, ColumnDefinition);
Database.cs (115) : Tables.Add(nuevaTabla);
Database.cs (116) : LastErrorMessage = Constants.CreateTableSuccess;
Database.cs (117) : return true;
Database.cs (119) : }
Database.cs (126) : for(int i =0; i< Tables.Count; i++)
Database.cs (127) : {
Database.cs (128) : if(Tables[i].Name == tableName)
Database.cs (129) : {
Database.cs (130) : Tables.Remove(Tables[i]);
Database.cs (131) : LastErrorMessage = Constants.DropTableSuccess;
Database.cs (132) : return true;
Database.cs (133) : }
Database.cs (135) : }
Database.cs (137) : LastErrorMessage = Constants.TableDoesNotExistError;
Database.cs (145) : for (int i = 0; i < Tables.Count; i++)
Database.cs (146) : {
Database.cs (147) : if (Tables[i].Name == tableName)
Database.cs (148) : {
Database.cs (149) : //comprobar que el n�mero de valores es igual que el numero de columnas
Database.cs (150) : if(values.Count == Tables[i].NumColumns())
Database.cs (151) : {
Database.cs (152) : Tables[i].Insert(values);
Database.cs (153) : LastErrorMessage = Constants.InsertSuccess;
Database.cs (154) : return true;
Database.cs (155) : }
Database.cs (156) : LastErrorMessage = Constants.ColumnCountsDontMatch;
Database.cs (157) : return false;
Database.cs (159) : }
Database.cs (160) : }
Database.cs (162) : //no hay ninguna tabla con ese nombre
Database.cs (163) : LastErrorMessage = Constants.TableDoesNotExistError;
