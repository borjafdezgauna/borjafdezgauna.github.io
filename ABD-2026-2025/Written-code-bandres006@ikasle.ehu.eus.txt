ColumnDefinition.cs (46) : return Type.ToString() + Delimiter + Name;
Condition.cs (22) : this.ColumnName = column;
Condition.cs (23) : this.Operator = op;
Condition.cs (24) : this.LiteralValue = literalValue;
Condition.cs (39) : //si el tipo de columna es entero
Condition.cs (40) : if(type == ColumnDefinition.DataType.Int)
Condition.cs (41) : {
Condition.cs (42) : //los valores de string --> entero
Condition.cs (43) : int value1 = int.Parse(value);
Condition.cs (44) : int value2 = int.Parse(LiteralValue);
Condition.cs (47) : {
Condition.cs (49) : return value1 > value2;
Condition.cs (51) : return value1 < value2;
Condition.cs (53) : return value1 == value2;
Condition.cs (54) : }
Condition.cs (55) : }
Condition.cs (56) : if (type == ColumnDefinition.DataType.Double)
Condition.cs (57) : {
Condition.cs (58) : // string --> decimal
Condition.cs (59) : double value1 = double.Parse(value);
Condition.cs (60) : double value2 = double.Parse(LiteralValue);
Condition.cs (63) : {
Condition.cs (65) : return value1 > value2;
Condition.cs (67) : return value1 < value2;
Condition.cs (69) : return value1 == value2;
Condition.cs (70) : }
Condition.cs (72) : }
Condition.cs (73) : if(type == ColumnDefinition.DataType.String)
Condition.cs (74) : {
Condition.cs (75) : //la comparaci�n devuelve un n�mero
Condition.cs (76) : int comparacion = string.Compare(value, LiteralValue);
Condition.cs (77) : // comparacion = 0 --> los dos valores son iguales
Condition.cs (78) : // comparacion > 0 --> value es mayor que literalValue
Condition.cs (79) : // comparaci�n < 0 --> value es mas peque�eo que literalValue
Condition.cs (82) : {
Condition.cs (84) : return comparacion > 0;
Condition.cs (86) : return comparacion < 0;
Condition.cs (88) : return comparacion == 0;
Condition.cs (89) : }
Condition.cs (90) : }
Database.cs (17) : private string m_password;
Database.cs (31) : m_username = adminUsername;
Database.cs (33) : m_password = adminPassword;
Database.cs (42) : //mirar que la table que nos dan no sea nula
Database.cs (43) : if(table == null)
Database.cs (44) : {
Database.cs (46) : }
Database.cs (47) : //comprobar que no existe ya en la lista
Database.cs (48) : for (int i = 0; i < Tables.Count; i++)
Database.cs (49) : {
Database.cs (50) : if (Tables[i].Name == table.Name)
Database.cs (51) : {
Database.cs (52) : //ya existe
Database.cs (53) : return false;
Database.cs (54) : }
Database.cs (55) : }
Database.cs (56) : //a�ado a lista la table que me dan
Database.cs (57) : Tables.Add(table);
Database.cs (58) : return true;
Database.cs (66) : //recorrer la lista buscando que coincidan los nombres
Database.cs (67) : for(int i = 0; i < Tables.Count; i++)
Database.cs (68) : {
Database.cs (69) : if (Tables[i].Name == tableName)
Database.cs (70) : {
Database.cs (71) : return Tables[i];
Database.cs (72) : }
Database.cs (73) : }
Database.cs (87) : //mirar si ya existe una tabla con ese nombre
Database.cs (88) : for (int i = 0; i < Tables.Count; i++)
Database.cs (89) : {
Database.cs (90) : if (Tables[i].Name == tableName)
Database.cs (91) : {
Database.cs (92) : LastErrorMessage = Constants.TableAlreadyExistsError;
Database.cs (93) : return false;
Database.cs (95) : }
Database.cs (96) : }
Database.cs (98) : //comprobar que nos de la columna
Database.cs (100) : if(ColumnDefinition == null)
Database.cs (101) : {
Database.cs (102) : LastErrorMessage = Constants.DatabaseCreatedWithoutColumnsError;
Database.cs (103) : return false;
Database.cs (105) : }
Database.cs (106) : //comprobar que no este vac�a
Database.cs (107) : else if(ColumnDefinition.Count == 0)
Database.cs (108) : {
Database.cs (109) : LastErrorMessage = Constants.DatabaseCreatedWithoutColumnsError;
Database.cs (115) : Table nuevaTabla = new Table(tableName, ColumnDefinition);
Database.cs (116) : Tables.Add(nuevaTabla);
Database.cs (117) : LastErrorMessage = Constants.CreateTableSuccess;
Database.cs (118) : return true;
Database.cs (120) : }
Database.cs (127) : for(int i =0; i< Tables.Count; i++)
Database.cs (128) : {
Database.cs (129) : if(Tables[i].Name == tableName)
Database.cs (130) : {
Database.cs (131) : Tables.Remove(Tables[i]);
Database.cs (132) : LastErrorMessage = Constants.DropTableSuccess;
Database.cs (133) : return true;
Database.cs (134) : }
Database.cs (136) : }
Database.cs (138) : LastErrorMessage = Constants.TableDoesNotExistError;
Database.cs (146) : for (int i = 0; i < Tables.Count; i++)
Database.cs (147) : {
Database.cs (148) : if (Tables[i].Name == tableName)
Database.cs (149) : {
Database.cs (150) : //comprobar que el n�mero de valores es igual que el numero de columnas
Database.cs (151) : if(values.Count == Tables[i].NumColumns())
Database.cs (152) : {
Database.cs (153) : Tables[i].Insert(values);
Database.cs (154) : LastErrorMessage = Constants.InsertSuccess;
Database.cs (155) : return true;
Database.cs (156) : }
Database.cs (157) : LastErrorMessage = Constants.ColumnCountsDontMatch;
Database.cs (158) : return false;
Database.cs (160) : }
Database.cs (161) : }
Database.cs (163) : //no hay ninguna tabla con ese nombre
Database.cs (164) : LastErrorMessage = Constants.TableDoesNotExistError;
